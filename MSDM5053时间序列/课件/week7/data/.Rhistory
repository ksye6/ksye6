adf.test(lgAP)
adf.test(w3)
adf.test(w3)
acf(w3,15,main="",col="red",ylim=c(-0.5,1))
pacf(w3,15,main="",col="red",ylim=c(-0.5,1))
Box.test(est$residuals,lag=12,type="Ljung")
est=arima(w3, c(1, 0, 0), seasonal = list(order = c(1,0, 0), period = 12))
est
adf.test(lgAP,lags=1)
adf.test(lgAP,k=1)
adf.test(w3,k=1)
Box.test(est$residuals,lag=12,type="Ljung")
pv=1-pchisq(13.89,10) #Compute p-value using 10 degrees of freedom
pv
est=arima(w3, c(0, 0, 1), seasonal = list(order = c(0,0,1), period = 12))
est
est=arima(lgAP,c(0, 1, 1), seasonal = list(order = c(0,1,1), period = 12))
est
forecast=predict(est, n.ahead =6)
U=forecast$pred +1.96 * forecast$se
L=forecast$pred - 1.96 * forecast$se
exp(forecast$pred)
exp(U)
exp(L)
est=arima(w3, c(0, 0, 1), seasonal = list(order = c(0,0,1), period = 12))
est
forecast=predict(est, n.ahead =6)
U=forecast$pred +1.96 * forecast$se
L=forecast$pred - 1.96 * forecast$se
exp(forecast$pred)
1.2^2
0.96^2
0.96^2+2.44
1.2*1.5/(1+1.2^2+0.5^2)
0.5/(1+1.2^2+0.5^2)
(0.1858736-0.669145^2)/(1-0.669145^2)
rm(list = ls())
setwd("C:/Users/Administrator/Desktop/2017FTS/chap4")  #set my working directory
da=read.table("m-intc7308.txt",header=T)[,2]
plot(da,type="l")
intc=log(da+1)
acf(intc,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(intc,20,main="",col="red",ylim=c(-0.2,0.4))
acf(intc,20,main="",col="red",ylim=c(-0.2,1))
pacf(intc,20,main="",col="red",ylim=c(-0.2,1))
acf(intc^2,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(intc^2,20,main="",col="red",ylim=c(-0.2,0.4))
Box.test(intc,lag=12,type="Ljung")
at=intc-mean(intc)
Box.test(at^2,lag=12,type="Ljung")
library(fGarch) # Load the package
pacf(intc^2,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(intc^2,20,main="",col="red",ylim=c(-0.2,0.4))
m0=garchFit(intc~garch(3,0),data=intc,trace=F)
summary(m0) # Obtain results
m1=garchFit(intc~garch(1,0),data=intc,trace=F)
summary(m1) # Obtain results
predict(m1,5) # Obtain 1 to 5-step predictions
m2=garchFit(intc~garch(1,0),data=intc,trace=F,cond.dist="std")
summary(m2) # Output shortened.
m4=garchFit(intc~garch(1,1),data=intc,trace=F)
summary(m4) # output edited.
m5=garchFit(intc~arma(1,0)+garch(1,1),data=intc,trace=F)
summary(m5)
sp5=scan(file="sp500.txt") # Load data
plot(sp5,type="l")
acf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(sp5^2,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
m1=garchFit(~arma(3,0)+garch(1,1),data=sp5,trace=F)
acf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
m1=garchFit(~arma(0,3)+garch(1,1),data=sp5,trace=F)
summary(m1)
pacf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
m1=garchFit(~arma(3,0)+garch(1,1),data=sp5,trace=F)
summary(m1)
m2=garchFit(~garch(1,1),data=sp5,trace=F)
m2=garchFit(~garch(1,1),data=sp5,trace=F)
summary(m2)
stresi=residuals(m2,standardize=T)
plot(stresi,type="l")
Box.test(stresi,10,type="Ljung")
Box.test(stresi^2,10,type="Ljung")
predict(m2,5)
q()
rm(list = ls())
## remove (almost) everything in the working environment.
#textbook page123
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7")  #set my working directory
#Purpose: build a simple ARCH model for the monthly log returns of Intel stock
da=read.table("m-intc7308.txt",header=T)[,2]
plot(da,type="l")
rm(list = ls())
## remove (almost) everything in the working environment.
#textbook page123
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7")  #set my working directory
#Purpose: build a simple ARCH model for the monthly log returns of Intel stock
da=read.table("m-intc7308.txt",header=T)[,2]
plot(da,type="l")
rm(list = ls())
## remove (almost) everything in the working environment.
#textbook page123
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7")  #set my working directory
#Purpose: build a simple ARCH model for the monthly log returns of Intel stock
da=read.table("m-intc7308.txt",header=T)[,2]
plot(da,type="l")
acf(da,20,main="",col="red",ylim=c(-0.2,1))
pacf(da,20,main="",col="red",ylim=c(-0.2,1))
acf(da^2,20,main="",col="red",ylim=c(-0.2,0.4))
rm(list = ls())
## remove (almost) everything in the working environment.
#textbook page123
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7/R")  #set my working directory
#Purpose: build a simple ARCH model for the monthly log returns of Intel stock
da=read.table("m-intc7308.txt",header=T)[,2]
plot(da,type="l")
acf(da,20,main="",col="red",ylim=c(-0.2,1))
pacf(da,20,main="",col="red",ylim=c(-0.2,1))
Box.test(da,lag=12,type="Ljung")
at=da-mean(da)
acf(at^2,20,main="",col="red",ylim=c(-0.2,0.4))
Box.test(at^2,lag=12,type="Ljung")
#Choosing order
pacf(at^2,20,main="",col="red",ylim=c(-0.2,0.4))
library(fGarch) # Load the package
m0=garchFit(intc~garch(3,0),data=at,trace=F)
summary(m0) # Obtain results
##alpha2 and alpha3 appear to be statistically nonsignificant at 5% level.
m1=garchFit(intc~garch(1,0),data=at,trace=F)
summary(m1) # Obtain results
##alpha2 and alpha3 appear to be statistically nonsignificant at 5% level.
m1=garchFit(intc~garch(1,0),data=at,trace=F)
summary(m1) # Obtain results
predict(m1,5) # Obtain 1 to 5-step predictions
# meanForecast meanError standardDeviation
#The following command fits an ARCH(1) model with Student-t dist.
m2=garchFit(intc~garch(3,0),data=at,trace=F,cond.dist="std")
summary(m2) # Output shortened.
m4=garchFit(intc~garch(1,1),data=at,trace=F)
summary(m4) # output edited.
m5=garchFit(intc~arma(1,0)+garch(1,1),data=da,trace=F)
summary(m5)
rm(list = ls())
## remove (almost) everything in the working environment.
#textbook page123
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7")  #set my working directory
#########Example3.3 page134
#library(fGarch)
sp5=scan(file="sp500.txt") # Load data
plot(sp5,type="l")
acf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
rm(list = ls())
## remove (almost) everything in the working environment.
#textbook page123
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7")  #set my working directory
#########Example3.3 page134
#library(fGarch)
sp5=scan(file="sp500.txt") # Load data
plot(sp5,type="l")
acf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
rm(list = ls())
## remove (almost) everything in the working environment.
#textbook page123
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7")  #set my working directory
#########Example3.3 page134
#library(fGarch)
sp5=scan(file="sp500.txt") # Load data
plot(sp5,type="l")
rm(list = ls())
## remove (almost) everything in the working environment.
#textbook page123
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7")  #set my working directory
da=read.table("sp500.txt",header=T)[,2]
#########Example3.3 page134
#library(fGarch)
#sp5=scan(file="sp500.txt") # Load data
plot(sp5,type="l")
acf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
rm(list = ls())
## remove (almost) everything in the working environment.
#textbook page123
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7/R")  #set my working directory
da=read.table("sp500.txt",header=T)[,2]
#########Example3.3 page134
#library(fGarch)
#sp5=scan(file="sp500.txt") # Load data
plot(sp5,type="l")
rm(list = ls())
## remove (almost) everything in the working environment.
#textbook page123
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7/R")  #set my working directory
sp5=read.table("sp500.txt",header=T)[,2]
#########Example3.3 page134
#library(fGarch)
#sp5=scan(file="sp500.txt") # Load data
plot(sp5,type="l")
acf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
rm(list = ls())
## remove (almost) everything in the working environment.
#textbook page123
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7/R")  #set my working directory
#sp5=read.table("sp500.txt",header=T)[,2]
#########Example3.3 page134
#library(fGarch)
sp5=scan(file="sp500.txt") # Load data
plot(sp5,type="l")
acf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
acf(sp5^2,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(sp5^2,20,main="",col="red",ylim=c(-0.2,0.4))
rm(list = ls())
## remove (almost) everything in the working environment.
#textbook page123
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7/R")  #set my working directory
#########Example3.3 page134
#library(fGarch)
sp5=scan(file="sp500.txt") # Load data
plot(sp5,type="l")
acf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
acf(sp5^2,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(sp5^2,20,main="",col="red",ylim=c(-0.2,0.4))
# Fit an MA(3)+GARCH(1,1) model.
m1=garchFit(~arma(0,3)+garch(1,1),data=sp5,trace=F)
summary(m1)
acf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(sp5,20,main="",col="red",ylim=c(-0.2,0.4))
Box.test(sp5,lag=12,type="Ljung")
acf(sp5^2,20,main="",col="red",ylim=c(-0.2,0.4))
pacf(sp5^2,20,main="",col="red",ylim=c(-0.2,0.4))
Box.test(sp5^2,lag=12,type="Ljung")
rm(list = ls())
## remove (almost) everything in the working environment.
#textbook page123
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7/R")  #set my working directory
#########Example3.3 page134
#library(fGarch)
sp5=scan(file="sp500.txt") # Load data
plot(sp5,type="l")
acf(sp5,20,main="",col="red",ylim=c(-1,1))
pacf(sp5,20,main="",col="red",ylim=c(-1,1))
Box.test(sp5,lag=12,type="Ljung")
acf(sp5^2,20,main="",col="red",ylim=c(-1,1))
pacf(sp5^2,20,main="",col="red",ylim=c(-1,1))
Box.test(sp5^2,lag=12,type="Ljung")
# Fit an MA(3)+GARCH(1,1) model.
m1=garchFit(~arma(0,3)+garch(1,1),data=sp5,trace=F)
summary(m1)
m1=garchFit(~arma(3,0)+garch(1,1),data=sp5,trace=F)
summary(m1)
m2=garchFit(~garch(1,1),data=sp5,trace=F)
summary(m2)
#simulation for GARCH(1,1) model
library(fGarch) # Load the package
data=function(n,alpha){
m=2000
noise=rnorm(n+m)
a=numeric(m+n)
h=numeric(m+n)
r=numeric(m+n)
for (i in 2:(m+n))
h[i]=alpha[1]+(alpha[2]*noise[i-1]*noise[i-1]+alpha[3])*h[i-1]
for (i in 2:(m+n))
a[i]=sqrt(h[i])*noise[i]
for (i in 2:(m+n))
r[i]=alpha[4]*r[i-1]+a[i]
return(r[-(1:m)])
}
n=1000
alpha=c(0.1,0.2,0.75,0.8)
sample=data(n, alpha)
sample[1:100]
plot(sample,main=" ",ylab="",xlab="",type="l")
acf(sample,10,main=expression(paste("GARCH(1,1)")),col="red")
Box.test(sample,lag=12,type="Ljung")
plot(sample*sample,main=" ",ylab="",xlab="",type="l")
acf(sample*sample,10,main=expression(paste("GARCH(1,1)")),col="red")
Box.test(sample*sample,lag=12,type="Ljung")
m5=garchFit(sample~arma(1,0)+garch(1,1),data=sample,trace=F)
summary(m5)
stresi=residuals(m5,standardize=T)
plot(stresi,type="l")
Box.test(stresi,10,type="Ljung")
Box.test(stresi^2,10,type="Ljung")
predict(m5,5)
rm(list = ls())
## remove (almost) everything in the working environment.
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-8/R")  #set my working directory
data=read.csv("d-IBM.csv",header=T)[,7]
da=rev(data)
ibm=diff(log(da))*100
plot(ibm,xlab=" ",ylab=" ",main="Time plot of daily log returns for IBM stock",type="l",col="red",ylim=c(-28,15))
library(fGarch)
m=garchFit(ibm~arma(0,0)+garch(1,1),data=ibm,trace=F)
summary(m)
stresi=residuals(m,standardize=T)
plot(stresi,xlab=" ",ylab=" ",main="Time plot of daily log returns for IBM stock",type="l",col="red",ylim=c(-15,15))
Box.test(stresi,10,type="Ljung")#p-value = 0.9554
pv=1-pchisq(5.8735,7) #Compute p-value using 9 degrees of freedom
pv
Box.test(stresi,20,type="Ljung")#p-value = 0.3875
Box.test(stresi^2,10,type="Ljung")#p-value = 0.4024
pv=1-pchisq(10.427,7) #Compute p-value using 9 degrees of freedom
Box.test(stresi,20,type="Ljung")#p-value = 0.3875
pv=1-pchisq(5.8735,7) #Compute p-value using 9 degrees of freedom
pv
Box.test(stresi,20,type="Ljung")#p-value = 0.3875
pv=1-pchisq(23.348,17) #Compute p-value using 9 degrees of freedom
pv
Box.test(stresi,10,type="Ljung")
pv=1-pchisq(5.8735,7)
pv
Box.test(stresi,20,type="Ljung")
pv=1-pchisq(23.348,17)
pv
Box.test(stresi^2,10,type="Ljung")#p-value = 0.4024
pv=1-pchisq(10.427,7) #Compute p-value using 9 degrees of freedom
pv
Box.test(stresi^2,10,type="Ljung")
pv=1-pchisq(10.427,7)
pv
Box.test(stresi^2,20,type="Ljung")
pv=1-pchisq(10.427,7)
pv
Box.test(stresi^2,20,type="Ljung")
pv=1-pchisq(18.099,17)
pv
#The unconditional mean of the model: 0.061196
#sample mean: 0.0378514
mean(ibm)
#indicating that the model might be misspecified
rm(list = ls())
## remove (almost) everything in the working environment.
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-8/R")  #set my working directory
data=read.csv("d-IBM.csv",header=T)[,7]
da=rev(data)
ibm=diff(log(da))*100
plot(ibm,xlab=" ",ylab=" ",main="Time plot of daily log returns for IBM stock",type="l",col="red",ylim=c(-28,15))
rm(list = ls())
## remove (almost) everything in the working environment.
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-8/R")  #set my working directory
data=read.csv("d-IBM.csv",header=T)[,7]
da=rev(data)
ibm=diff(log(da))*100
plot(ibm,xlab=" ",ylab=" ",main="Time plot of daily log returns for IBM stock",type="l",col="red",ylim=c(-28,15))
likfun=function(phi,data){
n=length(data)
y=data[3:n]
y2=data[2:(n-1)]
a=y-phi[1]-phi[2]*y2
h=numeric(n-2)
h[1]=a[1]^2
for (i in 2:(n-2)){
h[i]=(phi[3]+phi[4]*a[i-1]^2+phi[5]*h[i-1])*(a[i-1]<=0)+(phi[6]+phi[7]*a[i-1]^2+phi[8]*h[i-1])*(a[i-1]>0)
}
loglik=sum(log(h)+a^2/h)
return(loglik)
}
#######################################################################################
#
#                Estimation when r is known
#
#######################################################################################
estknow=function(data){
initial=c(rep(0.01,8))
fit=optim(initial,likfun,data=data,method="L-BFGS-B",
lower=c(rep(-0.1,2),0.001,rep(0.001,2),0.001,rep(0.001,2)),upper=c(rep(0.1,2),0.1,rep(0.99,2),0.1,rep(0.99,2)))
estimator=fit$par
hatpar=c(estimator)
return(hatpar)
}
par1=estknow(ibm)
par1
#0.031112373 0.012055389 0.004556858 0.084215407 0.963739788 0.040816973 0.033767517 0.907109797
#residual
data=ibm
n=length(data)
y=data[3:n]
y2=data[2:(n-1)]
a=y-par1[1]-par1[2]*y2
h=numeric(n-2)
h[1]=a[1]^2
for (i in 2:(n-2)){
h[i]=(par1[3]+par1[4]*a[i-1]^2+par1[5]*h[i-1])*(a[i-1]<=0)+(par1[6]+par1[7]*a[i-1]^2+par1[8]*h[i-1])*(a[i-1]>0)
}
res=a/sqrt(h)
Box.test(res,10,type="Ljung")
Box.test(res^2,10,type="Ljung")
rm(list = ls())
## remove (almost) everything in the working environment.
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-8/R")  #set my working directory
data=read.csv("d-IBM.csv",header=T)[,7]
da=rev(data)
ibm=diff(log(da))*100
plot(ibm,xlab=" ",ylab=" ",main="Time plot of daily log returns for IBM stock",type="l",col="red",ylim=c(-28,15))
#employ the gjrGARCH/iGARCH/eGARCH model
library(rugarch)
spec1=ugarchspec(variance.model=list(model="eGARCH"),
mean.model=list(armaOrder=c(1,0),include.mean = FALSE) )
mm=ugarchfit(spec=spec1,data=ibm)
mm  ### see output
plot(mm)
#simulation for GARCH(1,1) model
library(fGarch) # Load the package
data=function(n,alpha){
m=2000
noise=rnorm(n+m)
a=numeric(m+n)
h=numeric(m+n)
r=numeric(m+n)
for (i in 2:(m+n))
h[i]=alpha[1]+(alpha[2]*noise[i-1]*noise[i-1]+alpha[3])*h[i-1]
for (i in 2:(m+n))
a[i]=sqrt(h[i])*noise[i]
for (i in 2:(m+n))
r[i]=alpha[4]*r[i-1]+a[i]
return(r[-(1:m)])
}
n=1000
alpha=c(0.1,0.2,0.75,0.8)
sample=data(n, alpha)
sample[1:100]
plot(sample,main=" ",ylab="",xlab="",type="l")
acf(sample,10,main=expression(paste("GARCH(1,1)")),col="red")
Box.test(sample,lag=12,type="Ljung")
plot(sample*sample,main=" ",ylab="",xlab="",type="l")
acf(sample*sample,10,main=expression(paste("GARCH(1,1)")),col="red")
Box.test(sample*sample,lag=12,type="Ljung")
rm(list = ls())
## remove (almost) everything in the working environment.
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7/data/")  #set my working directory
data=read.csv("Dow.csv",header=T)[,7]
da=rev(data)
ibm=diff(log(da))*100
plot(ibm,xlab=" ",ylab=" ",main="Time plot of daily log returns for IBM stock",type="l",col="red",ylim=c(-28,15))
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7/data/")  #set my working directory
data=read.csv("Dow.csv",header=T)[,7]
da=rev(data)
plot(da,xlab=" ",ylab=" ",main="Time plot of daily log returns",type="l",col="red",ylim=c(-28,15))
data=read.csv("Dow.csv",header=T)[,7]
da=rev(data)
plot(da,xlab=" ",ylab=" ",main="Time plot of daily log returns",type="l",col="red",ylim=c(0,15000))
data=read.csv("Dow.csv",header=T)[,7]
da=rev(data)
plot(data,xlab=" ",ylab=" ",main="Time plot of daily log returns",type="l",col="red",ylim=c(0,15000))
ibm=diff(log(data))*100
plot(ibm,xlab=" ",ylab=" ",main="Time plot of daily log returns",type="l",col="red",ylim=c(-28,15))
data=read.csv("Dow.csv",header=T)[,7]
#da=rev(data)
plot(data,xlab=" ",ylab=" ",main="Time plot of daily log returns",type="l",col="red",ylim=c(0,15000))
ddata=diff(log(data))*100
plot(ddata,xlab=" ",ylab=" ",main="Time plot of daily log returns",type="l",col="red",ylim=c(-28,15))
library(rugarch)
spec1=ugarchspec(variance.model=list(model="eGARCH"),
mean.model=list(armaOrder=c(1,0),include.mean = FALSE) )
mm=ugarchfit(spec=spec1,data=ibm)
mm  ### see output
plot(mm)
rm(list = ls())
## remove (almost) everything in the working environment.
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-8/R")  #set my working directory
data=read.csv("d-IBM.csv",header=T)[,7]
da=rev(data)
ibm=diff(log(da))*100
plot(ibm,xlab=" ",ylab=" ",main="Time plot of daily log returns for IBM stock",type="l",col="red",ylim=c(-28,15))
#employ the gjrGARCH/iGARCH/eGARCH model
library(rugarch)
spec1=ugarchspec(variance.model=list(model="eGARCH"),
mean.model=list(armaOrder=c(1,1),include.mean = FALSE) )
mm=ugarchfit(spec=spec1,data=ibm)
mm  ### see output
plot(mm)
library(rugarch)
spec1=ugarchspec(variance.model=list(model="eGARCH"),
mean.model=list(armaOrder=c(1,0),include.mean = FALSE) )
mm=ugarchfit(spec=spec1,data=ddata)
mm  ### see output
plot(mm)
rm(list = ls())
## remove (almost) everything in the working environment.
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7/data/")  #set my working directory
data=read.csv("Dow.csv",header=T)[,7]
#da=rev(data)
plot(data,xlab=" ",ylab=" ",main="Time plot of daily log returns",type="l",col="red",ylim=c(0,15000))
ddata=diff(log(data))*100
plot(ddata,xlab=" ",ylab=" ",main="Time plot of daily log returns",type="l",col="red",ylim=c(-28,15))
#employ the gjrGARCH/iGARCH/eGARCH model
library(rugarch)
spec1=ugarchspec(variance.model=list(model="eGARCH"),
mean.model=list(armaOrder=c(1,0),include.mean = FALSE) )
mm=ugarchfit(spec=spec1,data=ddata)
mm  ### see output
plot(mm)
rm(list = ls())
## remove (almost) everything in the working environment.
setwd("C:/ling/teaching/teaching/MSBD5006MSDM5053/Lecture-7/data/")  #set my working directory
data=read.csv("Dow.csv",header=T)[,7]
#da=rev(data)
plot(data,xlab=" ",ylab=" ",main="Time plot of daily log returns",type="l",col="red",ylim=c(0,15000))
ddata=diff(log(data))*100
plot(ddata,xlab=" ",ylab=" ",main="Time plot of daily log returns",type="l",col="red",ylim=c(-28,15))
#employ the gjrGARCH/iGARCH/eGARCH model
library(rugarch)
spec1=ugarchspec(variance.model=list(model="eGARCH"),
mean.model=list(armaOrder=c(0,0),include.mean = FALSE) )
mm=ugarchfit(spec=spec1,data=ddata)
mm  ### see output
plot(mm)
